<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>送花-代理模式</title>
</head>
<body>
<script>
    //{}json 对象字面量
    // const wjd={
    //     name:"吴江东",   //key:value
    //     hometown:"赣州",
    //     single:false,
    //     room:"1315",
    // }
    //  JS 极具表现力的语言
    // 对象字面量
    const cst={
        //属性
        name:"陈松涛",
        single:true,
        hometown:"高安",
        hobbies:["桌球","下棋","游戏"],
        yz:75,
        send_flower(target){   //target 形参
            target.receiveFlower(cst);


        }
    };
    const xm={
        name:"小美",
        receiveFlower(sender){
            console.log("收到了花");
            // 颜值 85以上
            if(sender.yz<85){
                console.log("你是个好人");
            }
            else{
                console.log("万达走一波");
            }

        },
        listenGoodMood(fn){
            console.log("心情不好");
            setTimeout(function(){   //定时器
                cst.yz=88;
                console.log("心情现在不错");
                fn();
            },3000);
            

        }

    }
    const xh={
        name:"小红",
        hometown:"高安",
        sex:"女",
        receiveFlower(sender){
            xm.listenGoodMood(function(){    //把这个函数当成形参传入
                //sender.send_flower(xm);
                xm.receiveFlower(sender);

            }
            );
            //代理对象，实现复杂需求，
            //监听xm的心情，3秒后心情好了，
            //
            // xm.receiveFlower(sender);

            

            // // if(sender.name==="陈松涛"){
            //     // console.log("涛哥，我们在一起把");
            // }else{
            //     console.log("玩去");
            // }

        }
    }
        






  </script>  
</body>
</html>